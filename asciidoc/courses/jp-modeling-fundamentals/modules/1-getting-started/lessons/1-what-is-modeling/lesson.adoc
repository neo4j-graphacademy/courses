= グラフデータモデリングとは？
:type: quiz
:order: 1
:updated-at: 2022-04-23T16:00:00Z

[.video]
video::UVx9ih3NEYQ[youtube,width=560,height=315]

[.transcript]
== なぜモデルなのか？

アプリケーションの一部または全部をサポートするためにNeo4jのグラフを使用する場合、関係者と共同でグラフを設計する必要があります。

* アプリケーションの主要なユースケースに答える。
* 主要なユースケースに対して、最高のCypherステートメント性能を提供する。

=== Neo4jグラフの構成要素

グラフデータモデルを定義するために使用されるNeo4jコンポーネントは以下の通りです:

* ノード
* ラベル
* リレーションシップ
* プロパティ

=== データモデリングプロセス

以下は、グラフデータモデルの作成手順です:

. ドメインを理解し、アプリケーションの具体的なユースケース（質問）を定義する。
. 初期のグラフデータモデルを開発する。
.. ノード（実体）をモデル化する。
.. ノード間の関係をモデル化する
. 初期データモデルに対してユースケースをテストする。
. Cypherを使用してテストデータでグラフ（インスタンスモデル）を作成する。
. グラフに対して、パフォーマンスを含むユースケースをテストする。
. 主要なユースケースの変更やパフォーマンス改善といった理由から、グラフデータモデルをリファクタリング（改善）する。
. リファクタリングをグラフに実装し、Cypherを使って再テストを行う。

グラフデータのモデリングは、繰り返し行われるプロセスです。
最初のグラフデータモデルは出発点ですが、ユースケースについてより深く知るにつれ、あるいはユースケースが変化するにつれ、最初のグラフデータモデルを変更する必要があります。
さらに、特にグラフのスケールが大きくなると、主要なユースケースで最高のパフォーマンスを発揮するために、グラフの修正（*リファクタリング*）が必要になることがあります。

リファクタリングは、開発プロセスにおいて**非常に一般的**なものです。
Neo4jのグラフは、RDBMSのスキーマとは異なり、非常に柔軟なスキーマを任意に設定することができます。
Cypherの開発者は、改良されたデータモデルを表現するためにグラフを簡単に変更することができます。

== 理解度チェック


include::questions/1-graph-elements.adoc[leveloffset=+1]

include::questions/2-refactor.adoc[leveloffset=+1]


[.summary]
== まとめ

このレッスンでは、グラフデータモデリングの手順について学びました。
次のレッスンでは、グラフデータモデルのドメインを理解することについて学びます。
