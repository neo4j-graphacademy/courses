= Exploring the Project
:type: lesson
:order: 1
:python-version: v3.10
:lab: {repository-link}
:language: Python
:disable-cache: true
:branch: main


You must set up a development environment to run the code examples and exercises.

include::../../../../../../shared/courses/codespace/get-started.adoc[]


[%collapsible]
.Develop on your local machine
====
You will need link:https://python.org[Python] installed and the ability to install packages using `pip`.

You may want to set up a virtual environment using link:https://docs.python.org/3/library/venv.html[`venv`^] or link:https://virtualenv.pypa.io/en/latest/[`virtualenv`^] to keep your dependencies separate from other projects.

Clone the link:{repository-link}[github.com/neo4j-graphacademy/app-python] repository:

[source,bash]
----
git clone https://github.com/neo4j-graphacademy/app-python
----

Install the required packages using `pip`:

[source,bash]
----
cd app-python
pip install -r requirements.txt
----
====

== Setup the environment

Create a copy of the `.env.example` file and name it `.env`.
Update the required values.

[source]
.Create a .env file
----
include::{repository-raw}/{branch}/.env.example[]
----

Update the Neo4j sandbox connection details:

NEO4J_URI:: [copy]#neo4j://{instance-ip}:{instance-boltPort}#
NEO4J_USERNAME:: [copy]#{instance-username}#
NEO4J_PASSWORD:: [copy]#{instance-password}#


== Explore the Repository

Here are some of the important directories in the project:

* `example/` - Example code for working with the driver.
* `api/` - The application code:
** `dao/` - Data Access Objects which will be modified to communicate with Neo4j
** `middleware/` - Some custom middleware functions that are used by Flask throughout the request lifecycle
** `routes/` - Route handlers that are registered on the server.  You shouldn't need to edit these files.
* `public/` - Minified build files for the SPA.  *Do not edit these files*.

== Run the Application

You can run the application using the following commands:

[source,bash]
.Run the application
----
export FLASK_APP=api
export FLASK_ENV=development
flask run
----

// == Setting Environment Variables

// [source,sh]
// cp .env.example .env

// Your .env file should have the following settings:

// .Example .env File
// [source,env]
// ----
// FLASK_APP=api                       # <1>
// FLASK_DEBUG=true                    # <2>
// FLASK_RUN_PORT=3000                 # <3>
// JWT_SECRET=secret                   # <4>
// SALT_ROUNDS=10                      # <5>

// NEO4J_URI=neo4j://localhost:7687    # <6>
// NEO4J_USERNAME=neo4j                # <7>
// NEO4J_PASSWORD=password             # <8>
// ----

// 1. `FLASK_APP` tells Flask to use the application in the `api/` folder
// 2. Run Flask in Development Mode
// 3. Run the server on port `3000`
// 4. A secret key for signing JWT tokens - This can be a random string of letters and numbers
// 5. The cost parameter used when hashing passwords
// 6. The URI for your Neo4j Sandbox instance, we will set this in the next lesson
// 7. The username for your Neo4j Sandbox instance
// 8. The password for your Neo4j Sandbox instance

== Your Sandbox Instance

include::{shared}/courses/apps/sandbox.adoc[tag="info",leveloffset=+]

=== Accessing Your Sandbox Credentials

Your sandbox credentials can be accessed within the project through the `os.getenv()` function.

.Accessing Environment Variables
[source,python,role=nocopy]
----
import os

NEO4J_URI=os.getenv('NEO4J_URI')
NEO4J_USERNAME=os.getenv('NEO4J_USERNAME')
NEO4J_PASSWORD=os.getenv('NEO4J_PASSWORD')
----

== Done!

Once you are ready, click the button below to complete this lesson.

read::Advance to Next Lesson[]

[.summary]
== Next Steps

Now that we have the project up and running, let's take a look at the Neo4j Sandbox instance that has been created as part of your enrollment in this course.
