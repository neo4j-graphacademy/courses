= Agents: Making Retrievers Conversational
:type: lesson
:order: 1
:slides: true

Now that you understand the three types of retrievers, let's learn how to make them **conversational** by wrapping them as agent tools.

[.slide]
== Agents = Retrievers + Conversation Framework

**What is an Agent?**

An agent is a conversational wrapper around the retrievers you already know:

- **Vector Retriever** → Vector Tool
- **Vector + Cypher Retriever** → Hybrid Tool  
- **Text2Cypher Retriever** → Structured Query Tool

**The agent adds:**
- Conversational interface
- Tool selection intelligence
- Memory and context
- Session tracking

[.slide]
== From Retrievers to Tools

**You already learned these retrievers:**

```python
# Vector retriever for semantic search
vector_retriever = VectorRetriever(driver, index_name, embedder)

# Hybrid retriever for context + relationships  
vector_cypher_retriever = VectorCypherRetriever(driver, index_name, retrieval_query, embedder)

# Structured query retriever
text2cypher_retriever = Text2CypherRetriever(driver, llm, neo4j_schema)
```

**Now we wrap them as agent tools:**

```python
# Convert retrievers to agent tools
vector_tool = Tool.from_function(name="Semantic Search", func=vector_retriever.search)
hybrid_tool = Tool.from_function(name="Contextual Search", func=vector_cypher_retriever.search)
cypher_tool = Tool.from_function(name="Precise Queries", func=text2cypher_retriever.search)
```

[.slide]
== Agent Intelligence: Tool Selection

**The agent's job is to choose the right retriever tool:**

- **"What risks does Apple face?"** → Use Text2Cypher for precise company data
- **"Tell me about cybersecurity threats"** → Use Vector for semantic exploration  
- **"Which companies are affected by banking regulations?"** → Use Vector+Cypher for contextual relationships

**Agent reasoning:**
1. Analyze the user's question
2. Determine what type of information is needed
3. Select the appropriate retriever tool
4. Execute the tool and format the response
5. Maintain conversation context

[.slide]
== Progressive Learning Path

**You'll build the agent incrementally:**

**First Agent:** Basic agent with **schema introspection** tool
- Start simple with database exploration
- Learn agent fundamentals

**Enhanced Agent:** Add **document retrieval** tool  
- Add semantic search with graph context
- Compare tool behaviors

**Complete Agent:** Add **text-to-Cypher** tool
- Add structured queries
- Multi-tool agent intelligence

Each step adds one more tool - building complexity step by step.

[.slide]
== Agent Benefits: Conversation + Memory

**What agents add to retrievers:**

**Conversational Interface:**
- Natural language questions instead of code
- Follow-up questions and clarifications
- Context-aware responses

**Memory and Session Tracking:**
- Remembers previous questions in the conversation
- Can reference earlier topics and build on them
- Logs conversation history in Neo4j

**Intelligent Tool Selection:**
- Automatically chooses the best retriever for each question
- Can combine multiple tools if needed
- Learns from conversation context

**The retrievers do the heavy lifting - the agent makes them conversational and smart about when to use each one.**

== Getting Started

In the next lessons, you'll progressively build an agent by adding retriever tools one by one:

1. **Vector tool** for semantic exploration
2. **Vector + Cypher tool** for contextual relationships  
3. **Text2Cypher tool** for precise queries

Each lesson shows how to wrap a retriever as a tool and how the agent chooses between available tools.

read::Continue[]

[.summary]
== Summary

In this lesson, you learned that agents are **conversational wrappers** around the retrievers you already know:

**Key Concept:**

- **Retrievers** = The core functionality (Vector, Vector+Cypher, Text2Cypher)
- **Agents** = Conversational interface + intelligent tool selection
- **Tools** = Retrievers wrapped for agent use

**What Agents Add:**

- Natural language conversation interface
- Automatic tool selection based on question type
- Memory and context across conversations
- Session tracking and conversation history

**Progressive Learning:**

- **First Agent:** Schema tool → Database exploration
- **Enhanced Agent:** Add document retrieval → Semantic search with context  
- **Complete Agent:** Add text2cypher → Structured queries

**The retrievers do the work - the agent makes them conversational and intelligent about when to use each one.**

In the next lesson, you will start building your agent with schema introspection as your first tool.
