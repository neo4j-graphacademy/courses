= Agent with Vector+Graph Retrieval Tool
:type: lesson
:order: 3

[.slide]
== Adding the Second Tool

You will enhance your agent by adding a custom vector retrieval tool that combines semantic search with graph traversal.

**Your agent will now have:** 

- **Schema Tool:** Database structure exploration  
- **Document Retrieval Tool:** Vector search + graph context (new!) 

The agent can now intelligently choose which tool to use based on the question type.

[.slide]
== When to Use Each Tool

**Schema Tool:**

- Understanding database structure
- "What entities exist in the graph?"
- "How are companies related to risk factors?"

**Document Retrieval Tool:**

- Finding content with company context
- "What are Microsoft's main risk factors?"
- "Tell me about cybersecurity threats mentioned by tech companies"

The agent decides automatically which tool is best for each question!

[.slide]
== Two-Tool Agent

Open the notebook to see how we add the Vector + Cypher Retriever as a second tool:

1. **Keep existing schema tool** (from previous lesson)
2. **Add new document retrieval tool** (vector search with graph context)
3. **Let agent choose** between tools based on question

Now your agent can handle both simple semantic search AND contextual relationship queries.

[.slide]
== Hands-On: Two-Tool Agent

**Try these questions to see tool selection:**

**Semantic Search (Vector Tool):**

- _"What are the main risk factors mentioned in the documents?"_
- _"Tell me about cybersecurity threats in financial services"_

**Contextual Search (Vector + Cypher Tool):**

- _"What products does Microsoft mention in its financial documents?"_
- _"How are companies connected through their mentioned products?"_

**Notice:** The agent chooses the right tool automatically based on whether relationships are needed!

read::Continue[]

[.summary]
== Summary

In this lesson, you enhanced your agent by adding the Vector + Cypher Retriever as a second tool:

**Key Concepts:**

- **Tool selection:** Agent chooses between semantic and contextual search
- **Multi-tool agent:** Two retrievers wrapped as conversational tools
- **Intelligent routing:** Questions automatically matched to appropriate tool

**What You Built:**

- Agent with two retriever tools
- Automatic tool selection based on question type
- Enhanced capability for both simple and contextual queries

**Progress:**
- ✅ Vector Retriever tool (semantic search)
- ✅ Vector + Cypher Retriever tool (contextual search)
- ⏳ Text2Cypher Retriever tool (coming next!)

In the next lesson, you will add the final tool: Text2Cypher Retriever for precise database queries.
