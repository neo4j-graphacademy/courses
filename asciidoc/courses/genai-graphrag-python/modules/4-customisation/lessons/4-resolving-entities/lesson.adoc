= Entity Resolution
:type: lesson
:order: 4
:optional: true
:branch: main

When the entities are identified in the text and subsequently created in the knowledge graph, they may not be unique. For example, the text may refer to `Neo4j` in some places and `Neo4j Graph Database` in others.

The default entity resolution strategy in the `SimpleKGBuilder` is to merge entities that have the same label and identical `name` property.

== No Entity Resolution

You can disable entity resolution by setting the `perform_entity_resolution` parameter to `False` when creating the `SimpleKGBuilder` instance:

[source,python]
----
include::{repository-raw}/{branch}/genai-graphrag-python/examples/no_entity_resolution.py[tag=kg_builder]
----

Disabling entity resolution will result in all identified entities being created as new nodes.

[IMPORTANT]
.Multiple nodes for the same entity
This may lead to multiple nodes representing the same real-world entity,

== Post Processing Entity Resolution

The `neo4j_graphrag` library includes additional link:https://neo4j.com/docs/neo4j-graphrag-python/current/user_guide_kg_builder.html#entity-resolver[entity resolver components^]. The entity resolvers are used after the creation of the knowledge graph to identify and merge duplicate entities.

For example:

* The link:https://neo4j.com/docs/neo4j-graphrag-python/current/api.html#spacysemanticmatchresolver`[`SpacySemanticMatchResolver`^] uses the link:https://spacy.io/[`spaCy`^] library to find and resolves entities with same label and similar set of textual properties.
* The link:https://neo4j.com/docs/neo4j-graphrag-python/current/api.html#fuzzymatchresolver`[`FuzzyMatchResolver`^] finds and resolves entities with the same label and similar set of textual properties using link:https://rapidfuzz.github.io/RapidFuzz/[RapidFuzz^] for fuzzy matching.

Post processing of entities can result in a more concise knowledge graph with fewer duplicate entities but with the risk of incorrectly merging distinct entities.

Refer to the link:https://neo4j.com/docs/neo4j-graphrag-python/current/user_guide_kg_builder.html#entity-resolver[Entity Resolver documentation^] for more information and how to use them.

When you're ready you can continue.

read::Continue[]

[.summary]
== Lesson Summary

In this lesson, you learned about entity resolution strategies.

In the next lesson, you will learn how to use and configure different LLMs.