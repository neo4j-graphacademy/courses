[.question]
= Understanding relationship aggregation

When you match actor collaborations with this pattern:

```cypher
MATCH (source:Actor)-[r:ACTED_IN]->(:Movie)<-[:ACTED_IN]-(target:Actor)
WITH source, target, count(r) AS rels
```

What does `count(r)` actually count?

* [ ] The total number of movies each actor has appeared in
* [x] The number of movies where both actors appeared together
* [ ] The number of unique actor pairs in the database
* [ ] The number of ACTED_IN relationships in the entire graph

[TIP,role=hint]
.Hint
====
Focus on what the MATCH pattern findsâ€”what does `r` represent in this context? The aggregation happens at the `source, target` pair level.
====

[TIP,role=solution]
.Solution
====
**The number of movies where both actors appeared together.**

The pattern `(source:Actor)-[r:ACTED_IN]->(:Movie)<-[:ACTED_IN]-(target:Actor)` matches every movie where both source and target actors appeared.

The variable `r` captures the ACTED_IN relationship from source to each shared movie. When you aggregate with `count(r)` at the `source, target` level, you're counting how many movies connect that specific actor pair.

For example, if Robert De Niro and Joe Pesci appeared in 4 movies together (Goodfellas, Casino, etc.), this pattern matches 4 times, and `count(r)` returns 4.

This count becomes the weight property (`rels`) representing the strength of their collaboration.
====


