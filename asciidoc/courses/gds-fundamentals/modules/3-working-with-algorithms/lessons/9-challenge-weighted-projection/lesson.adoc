= Challenge: Weighted graph projection and analysis
:type: challenge
:order: 9

[.transcript]
== Introduction

You've learned how to project graphs with undirected relationships and weights. You've also explored several community detection algorithms and learned how to read the GDS documentation.

Now it's time to put those skills together by applying Label Propagation—a community detection algorithm you haven't used yet—to a weighted, undirected, bipartite graph.

In this challenge, you'll:

1. Project an actor-movie bipartite graph with undirected relationships and IMDb ratings as weights
2. Use Label Propagation to detect communities in the weighted graph
3. Analyze the results


== Your task

=== Step 1: Project the graph

Project a graph called `'actor-movie-quality'` that captures the actor-movie network weighted by IMDb film ratings.

Your projection should:

- Include `Actor` and `Movie` nodes connected via `ACTED_IN`
- Use the `imdbRating` property as the relationship weight
- Make relationships **undirected**

You've done this before—write the complete projection query.

Verify your projection was created successfully using `gds.graph.list()`.


=== Step 2: Review label propagation

Visit the link:https://neo4j.com/docs/graph-data-science/current/algorithms/label-propagation/[Label Propagation documentation^].

Understand what configuration parameters are available and how weights affect the algorithm.


=== Step 3: Run label propagation

Run Label Propagation on your projected graph in `stream` mode using IMDb ratings as weights.

Return the top 10 communities by size with sample member names.

When you've completed your analysis, answer the questions below. 


[.quiz]
== Check your understanding

include::questions/1-label-propagation-purpose.adoc[leveloffset=+1]

include::questions/2-label-prop-vs-louvain-leiden.adoc[leveloffset=+1]

include::questions/3-rerun-behavior.adoc[leveloffset=+1]

include::questions/4-non-deterministic-reason.adoc[leveloffset=+1]

include::questions/5-weights-impact.adoc[leveloffset=+1]


[.summary]
== Summary

You've successfully projected a weighted, undirected bipartite graph and applied Label Propagation to detect communities based on IMDb film ratings.

This challenge demonstrates a core GDS workflow: understanding your data model, designing the right projection, and applying algorithms that leverage weighted relationships to reveal meaningful patterns.

In the next lesson, you'll learn about relationship aggregation—how to create weights by combining multiple relationships during projection.

