[.question]
= Hierarchical Queries

You need to find all managers in an employee's reporting chain up to the CEO. Which approach is more efficient and why?

- [ ] SQL with multiple self-joins - one for each level
- [ ] SQL with a recursive CTE - iterates until complete
- [x] Cypher with variable-length path - direct traversal
- [ ] Both are equally efficient


[TIP,role=hint]
.Hint
====
Consider how each approach handles unknown depth in a hierarchy.
====

[TIP,role=solution]
.Solution
====
**Cypher with variable-length paths** is most efficient for hierarchical queries.

[source,cypher]
----
MATCH (e:Employee)-[:REPORTS_TO*]->(manager:Employee)
WHERE e.firstName = 'Nancy'
RETURN manager
----

Why Cypher wins:
* The `*` operator handles any depth naturally
* Direct relationship traversal (no iteration needed)
* Simple, readable syntax

SQL alternatives are less efficient:
* Multiple self-joins require knowing the max depth in advance
* Recursive CTEs iterate for each level, building unions
* Both approaches are more complex and slower
====

