= Creating Relationships
:order: 3
:type: lesson

In the previous lesson, you learned how to create nodes using the Data Importer. In this lesson, you will learn how to create relationships between nodes.


== Creating Relationships in Data Importer

Relationships connect nodes and represent how data is connected. In the Northwind model, relationships include:

* `Customer` -[:PLACED]-> `Order`
* `Order` -[:CONTAINS]-> `Product`
* `Product` -[:IN_CATEGORY]-> `Category`
* `Supplier` -[:SUPPLIES]-> `Product`


=== Step 1: Create Nodes First

Before creating relationships, ensure all your node types exist in the model:

. Add all node labels (Customer, Order, Product, Category, Supplier, etc.)
. Map properties from CSV files
. Set unique identifiers for each node type


=== Step 2: Draw a Relationship

In the Data Importer canvas:

. Hover over the edge of the source node until you see the **+** icon
. Drag from the source node to the target node
. Release to create the relationship

image::images/01_data_importer_model_actedin.jpg[Creating a relationship in Data Importer,width=600,align=center]


=== Step 3: Configure the Relationship

In the Definition panel:

. Enter the **relationship type** (e.g., `PLACED`, `CONTAINS`, `IN_CATEGORY`)
. Select the **data source** (CSV file) that contains the relationship data
. Map the **From ID** - the column that matches the source node's unique identifier
. Map the **To ID** - the column that matches the target node's unique identifier
. Optionally map **relationship properties** from additional columns

[NOTE]
.Green checkmarks indicate valid mappings
====
The Data Importer shows a green checkmark when an element has been mapped correctly. If you see a warning, check that:

* The ID columns match the unique identifiers on the nodes
* The data types are compatible
* The CSV file contains the expected columns
====


=== Step 4: Add Relationship Properties

Some relationships carry additional data. For example, the `CONTAINS` relationship between Order and Product includes:

* `quantity` - how many units were ordered
* `unitPrice` - the price at the time of order
* `discount` - any discount applied

To add relationship properties:

. Select the relationship in the model
. Click **Map from table**
. Select the columns to include as properties
. Set appropriate data types


== Example: Northwind Relationships

For the Northwind dataset, create these relationships:

[cols="1,1,1,2"]
|===
| From | Relationship | To | Properties

| Customer
| PLACED
| Order
| (none)

| Order
| CONTAINS
| Product
| quantity, unitPrice, discount

| Product
| IN_CATEGORY
| Category
| (none)

| Supplier
| SUPPLIES
| Product
| (none)

| Employee
| PROCESSED
| Order
| (none)

| Order
| SHIPPED_BY
| Shipper
| (none)

| Employee
| REPORTS_TO
| Employee
| (none)

|===


== Verify Relationships

After importing, verify your relationships:

[source,cypher]
----
// Count relationships by type
MATCH ()-[r]->()
RETURN type(r) AS relationship, COUNT(*) AS count
ORDER BY count DESC
----

[source,cypher]
----
// Sample a specific relationship
MATCH (c:Customer)-[r:PLACED]->(o:Order)
RETURN c.companyName, o.orderID
LIMIT 5
----

[source,cypher]
----
// Check relationship properties
MATCH (o:Order)-[r:CONTAINS]->(p:Product)
RETURN o.orderID, p.productName, r.quantity, r.unitPrice
LIMIT 5
----


== Using Aura vs Sandbox

=== Neo4j Aura

If you are using AuraDB, the Data Importer is integrated:

. Open your instance and click **Import**
. Design your model with nodes and relationships
. Click **Run import** to execute

=== GraphAcademy Sandbox

If you are using the sandbox:

. Open Neo4j Workspace Data Importer at `workspace.neo4j.io/workspace/import`
. Connect using your sandbox credentials:
+
Connection URL:: [copy]#{instance-host}:{instance-boltPort}#
Username:: [copy]#{instance-username}#
Password:: [copy]#{instance-password}#


[.quiz]
== Check Your Understanding

include::questions/1-relationship-mapping.adoc[leveloffset=+1]


[.summary]
== Summary

In this lesson, you learned how to create relationships in the Data Importer by:

* Drawing connections between nodes
* Mapping ID columns to link nodes
* Adding relationship properties

In the next lesson, you will learn how to handle complex data scenarios during import.