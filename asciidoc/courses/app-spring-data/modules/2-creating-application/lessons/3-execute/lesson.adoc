= Configure Neo4j Connection
// :type: video
:type: lesson
:sandbox: true

We do not need to manage a driver object, but we still need to put the database connection details somewhere for our application. In Spring applications, this is typically handled in the `application.properties` file. In this lesson, we will learn how to configure the connection details for our Neo4j database and test the connection.

== Configure the Connection

The library contains some namespaced properties for us to use.

[source,properties]
----
spring.neo4j.uri=neo4j+s://{sandbox_host}:{sandbox_boltPort}
spring.neo4j.authentication.username={sandbox_username}
spring.neo4j.authentication.password={sandbox_password}
spring.neo4j.database=neo4j
----

Each of the above properties are as follows:

1. `spring.neo4j.uri` - the connection URI string for our database. For example, `neo4j://localhost:7687` or `neo4j+s://dbhash.databases.neo4j.io`.
2. `spring.neo4j.authentication.username` and `spring.neo4j.authentication.password` - properties to authenticate with the database.
3. `spring.neo4j.database` - name of the database we want to connect to. This is optional and defaults to `neo4j`.

[TIP]
.Authentication Types
====
Neo4j supports four authentication methods, basic authentication (e.g. username and password or LDAP), a base64 encoded Bearer token, a Kerberos token, or a custom authentication token.
For more information on these options, visit link:https://neo4j.com/docs/operations-manual/current/authentication-authorization/[Authentication and Authorization^].
====

=== Verifying Connectivity

You can verify that the connection details are set up correctly by running the application.

[.video]
video::RiUqOxz4i18[youtube,width=560,height=315]

Running the application as-is will only result in an error if general syntax is incorrect. However, it will not test whether you can actually connect to the instance or not.

To take it one step further and fully test the connection, you can add the code below to the test class under the project's `src/main/test` folder.

.Verify Connectivity
[source,java,indent=0,role=nocopy,subs="attributes+"]
----
include::{repository-raw}/main/src/example.java[tag=verify]
----

Run the test class to verify that the test passes. If it doesn't, then the database credentials or connection details are incorrect.

image::{repository-raw}/{path}/images/sdn-verifyConnectivity_testPassed.png[VerifyConnectivity Test Passed,width=600,align=center]

[.summary]
== Lesson Summary

In this lesson, you added connection details to your application and tested the connection to the Neo4j database. This lesson completes Module 2 of the course.

In the next module, you will learn about mapping the graph data model to the application domain model.

=== Further Reading

* link:https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#configure-spring-boot-project[Docs: Spring Data Neo4j Database Configuration Properties^]