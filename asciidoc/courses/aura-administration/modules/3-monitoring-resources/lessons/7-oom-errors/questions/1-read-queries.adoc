[.question]
= Mitigating Out of Memory Errors in Read Queries

What should you do to mitigate Out of Memory errors in read queries that occur at scheduled times?

* [ ] Scale the instance to provide more heap memory
* [ ] Break the query into smaller batches using `CALL { } IN TRANSACTIONS`
* [x] Use `EXPLAIN` or `PROFILE` to review the query plan and ensure queries include `LIMIT` clauses
* [ ] Restart the instance to clear memory

[TIP,role=hint]
.Hint
====
Scheduled errors need query optimization, not scaling.
====

[TIP,role=solution]
.Solution
====
**Use `EXPLAIN` or `PROFILE` to review the query plan and ensure queries include `LIMIT` clauses** is correct.

Use `EXPLAIN` or `PROFILE` to identify expensive operations with high database hits or memory usage. Add `LIMIT` clauses to restrict result set sizes and prevent queries from returning millions of nodes or relationships.

**Scaling** - scheduled errors have fixable query-level causes. **Batching with `CALL { } IN TRANSACTIONS`** - for write operations only. **Restarting** - doesn't fix the root cause.
====

