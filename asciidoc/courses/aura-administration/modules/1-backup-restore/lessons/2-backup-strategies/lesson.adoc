= Backup Strategies for Testing
:type: lesson
:order: 3
:optional: true


[.discrete]
== Introduction

One of the most valuable uses of snapshots is creating test environments that mirror your production data.

In this lesson, you will learn how to use snapshots to create test instances for development, troubleshooting, and performance testing.


== Why Use Production Data for Testing?

Production data contains the scale, complexity, edge cases, and patterns that synthetic test data cannot replicate.

Testing with production data enables accurate reproduction of production issues, validation of queries and data model changes under realistic conditions, and measurable performance optimization. Development teams can work with actual data patterns, relationships, and scale. Upgrades and migrations can be tested in conditions that match production.

[WARNING]
.Data privacy compliance
====
Production data used in test environments must comply with data privacy regulations including GDPR, CCPA, and industry-specific requirements.

If production data contains personally identifiable information (PII), customer data, or other sensitive information, anonymize it before using it for testing.
====


== Creating Test Instances from Snapshots

You can create a new instance from any exportable snapshot:

. Navigate to your Aura instance card in the console
. Click the more menu icon (**…**) on the instance card
. Select **Inspect**
. Select the **Snapshots** tab
. Find the snapshot you want to use
. Click the more menu (**…**) next to that snapshot
. Select **Create instance from snapshot**
. Configure the new instance settings:
  * Instance name
  * Instance size (can be smaller than production for testing)
  * Region
  * Cloud provider

. Review and create the instance
. Download the credentials for the new instance

This creates an independent instance with a copy of your data at the snapshot time.


[NOTE]
.Exportable Snapshots Only
====
You can only create instances from exportable snapshots.

Use the **Show exportable only** toggle to filter the snapshot list.

Remember that differential backups cannot be used to create new instances.
====


== Managing Test Instances

Test instances require management to control costs and maintain organization.

Use clear naming conventions. Names like `test-prod-copy-2024-11-07` identify the instance type, source, and creation date, simplifying inventory management and deletion decisions.

Test instances can be smaller than production instances. Unless testing performance at production scale, a smaller instance reduces costs without affecting test validity.

Delete test instances when testing is complete. Retaining unnecessary instances increases costs. Snapshots remain available if the instance is needed again.

Document the source snapshot and creation date for each test instance. This information is necessary for debugging and understanding the data state.


== Testing Scenarios

Common scenarios for using production snapshots:

=== Troubleshooting Production Issues

. Create a test instance from a recent snapshot
. Reproduce the issue in the test environment
. Test potential fixes without affecting production
. Deploy the verified fix to production

=== Performance Testing

. Create a test instance from a production snapshot
. Run performance tests with production data volumes
. Test query optimizations and index changes
. Validate improvements before applying to production

=== Data Model Changes

. Create a test instance from a production snapshot
. Test schema changes and data migrations
. Validate data integrity after changes
. Document the migration procedure for production deployment


== Cost Considerations

Test instances incur the same billing costs as production instances.

Choose instance sizes appropriate for testing requirements. Smaller instances reduce costs when production-scale performance testing is not required.

Delete instances immediately when testing is complete. Idle test instances generate ongoing costs.

Use time-boxed testing periods with defined start and end dates. This establishes accountability for instance cleanup.

Plan test schedules around your tier's snapshot retention periods. Professional tier retention is 7 days. Ensure snapshots remain available for the planned testing window.


read::Continue to next lesson[]


[.summary]
== Summary

You learned how to use snapshots to create test environments from production data.

You learned how to create new instances from exportable snapshots and best practices for managing test instances while controlling costs.

In the next challenge, you will apply this knowledge to recover from an accidental data deletion scenario.

