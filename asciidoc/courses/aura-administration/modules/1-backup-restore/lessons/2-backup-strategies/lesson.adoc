= Backup Strategies for Testing
:type: lesson
:order: 3
:optional: true


[.discrete]
== Introduction

One of the most valuable uses of snapshots? Creating test environments that mirror your production data.

In this lesson, you'll learn how to use snapshots to create test instances for development, troubleshooting, and performance testing.


== Why Use Production Data for Testing?

Here's the thing: production data contains scale, complexity, edge cases, and patterns that synthetic test data simply can't replicate.

When you test with production data, you can accurately reproduce production issues, validate queries and data model changes under realistic conditions, and measure real performance optimization. Your development teams can work with actual data patterns, relationships, and scale. Upgrades and migrations can be tested in conditions that actually match production.

[WARNING]
.Data privacy compliance
====
Production data used in test environments must comply with data privacy regulations including GDPR, CCPA, and industry-specific requirements.

If production data contains personally identifiable information (PII), customer data, or other sensitive information, anonymize it before using it for testing.
====


== Creating Test Instances from Snapshots

You can create a new instance from any exportable snapshot:

. Navigate to your Aura instance card in the console
. Click the more menu icon (**…**) on the instance card
. Select **Inspect**
. Select the **Snapshots** tab
. Find the snapshot you want to use
. Click the more menu (**…**) next to that snapshot
. Select **Create instance from snapshot**
. Configure the new instance settings:
  * Instance name
  * Instance size (can be smaller than production for testing)
  * Region
  * Cloud provider

. Review and create the instance
. Download the credentials for the new instance

This creates an independent instance with a copy of your data at the snapshot time.


[NOTE]
.Exportable Snapshots Only
====
You can only create instances from exportable snapshots.

Use the **Show exportable only** toggle to filter the snapshot list.

Remember that differential backups cannot be used to create new instances.
====


== Managing Test Instances

Test instances need some management to control costs and stay organized.

Use clear naming conventions. Names like `test-prod-copy-2024-11-07` tell you at a glance what type of instance this is, where it came from, and when you created it. This makes it easy to manage your inventory and decide what to delete.

Here's a cost-saving tip: test instances can be smaller than production. Unless you're specifically testing performance at production scale, a smaller instance will work just fine and cost you less.

Delete test instances as soon as testing is complete. Every instance you keep running costs you money. Don't worry - the snapshots remain available if you need to create the instance again.

Finally, document which snapshot you used and when you created each test instance. You'll need this information for debugging and understanding what data state you're working with.


== Testing Scenarios

Common scenarios for using production snapshots:

=== Troubleshooting Production Issues

. Create a test instance from a recent snapshot
. Reproduce the issue in the test environment
. Test potential fixes without affecting production
. Deploy the verified fix to production

=== Performance Testing

. Create a test instance from a production snapshot
. Run performance tests with production data volumes
. Test query optimizations and index changes
. Validate improvements before applying to production

=== Data Model Changes

. Create a test instance from a production snapshot
. Test schema changes and data migrations
. Validate data integrity after changes
. Document the migration procedure for production deployment


== Cost Considerations

Now, costs are important to understand. Test instances incur the same billing as production instances - so you need to be smart about this.

Choose instance sizes that match your testing needs. If you're not doing production-scale performance testing, go smaller. You'll save money without compromising your tests.

Delete instances immediately when testing is complete. Every hour an idle test instance sits there, it's costing you money.

Use time-boxed testing periods with clear start and end dates. This creates accountability for cleaning up instances.

Plan your test schedules around your tier's snapshot retention periods. Professional tier keeps snapshots for 7 days. Make sure the snapshot you need will still be available for your entire testing window.


read::Continue to next lesson[]


[.summary]
== Summary

You now know how to use snapshots to create test environments from production data.

You've learned how to create new instances from exportable snapshots and best practices for managing test instances while keeping costs under control.

In the next challenge, you'll apply this knowledge to recover from an accidental data deletion scenario.

