[.question]
= Storage Emergency

What should you do immediately to prevent the instance from becoming read-only?

* [ ] Scale the instance to get more storage capacity

* [ ] Let it fill up and deal with it Monday morning

* [ ] Run database compaction to free up space

* [x] Stop the excessive logging and delete the ActivityLog nodes

[TIP,role=hint]
.Hint
====
The instance will become read-only at 100%. What action prevents that while addressing the root cause?
====

[TIP,role=solution]
.Solution
====
**Stop the excessive logging and delete the ActivityLog nodes** is correct.

This addresses both the symptom and root cause:

**Immediate actions** (in order):
1. **Stop the excessive logging** - Disable the logging service or contact on-call developer
2. **Delete the problematic data**:
[source,cypher]
----
// Delete ActivityLog nodes created in last 3 hours
MATCH (log:ActivityLog)
WHERE log.timestamp > datetime() - duration('PT3H')
DELETE log
----
3. **Monitor storage** - Ensure it drops back down
4. **Investigate root cause** - Why did error logging go crazy?

**Why this is correct**: Stops the ongoing problem immediately, frees up space (prevents read-only), addresses the root cause, and can be done right now.

The other options have critical problems:

**Scaling (incorrect)**: Takes time to provision, doesn't stop the logging, will fill up again, and is more expensive.

**Wait until Monday (incorrect)**: Instance becomes read-only (production down), which is unacceptable for Saturday night.

**Compaction (incorrect)**: Requires downtime, doesn't stop ongoing logging, and won't help with actively growing data.

**After immediate fix**:
1. Implement log rotation policies
2. Use external log storage (not database)
3. Set up 80% storage alerts
4. Review what caused the excessive errors

**Key lesson**: When storage is rapidly growing due to application behavior, stop the behavior first, then clean up, then scale if needed.
====

