= Introduction to Data Importer
:type: lesson
:order: 2

== What is Data Importer?

The **Data Importer** is a visual tool built into Neo4j Aura that lets you import CSV files into your graph database without writing code.

```mermaid
flowchart LR
    A[You] -->|Upload CSV| B[Data Importer]
    B -->|Visual Design| C[Data Model]
    C -->|One Click| D[Graph Database]
```

Think of it as a graphical interface that:
* Accepts CSV files as input
* Lets you design your graph model visually
* Maps CSV columns to properties
* Generates and runs the import automatically

## Accessing Data Importer

To access Data Importer in Aura:

```mermaid
flowchart TD
    A[Aura Console] --> B[Select Your Instance]
    B --> C[Click Open]
    C --> D[Choose Data Importer]
```

1. Go to your Aura console
2. Click on your instance
3. Click **Open**
4. Select **Import** or **Data Importer**

## Data Importer Interface

The Data Importer has several key areas:

```mermaid
graph TB
    A[Data Importer Interface]
    A --> B[Files Panel]
    A --> C[Canvas Area]
    A --> D[Details Panel]
    A --> E[Action Buttons]
    
    B --> F[Upload CSVs]
    C --> G[Visual Model]
    D --> H[Configure Properties]
    E --> I[Run Import]
```

### 1. Files Panel (Left)

* Upload CSV files
* View uploaded files
* See file previews
* Manage data sources

### 2. Canvas Area (Center)

* Visual graph model
* Drag nodes to position
* Create relationships
* See the big picture

### 3. Details Panel (Right)

* Configure node properties
* Map CSV columns
* Set constraints
* Define indexes

### 4. Action Buttons (Top)

* Save model
* Load model
* Clear model
* Run import

## The Import Workflow

Here's the typical workflow in Data Importer:

```mermaid
flowchart TD
    A[Upload CSV File] --> B[Create Node in Canvas]
    B --> C[Set Node Label]
    C --> D[Map Properties from CSV]
    D --> E[Set ID Property]
    E --> F{More Nodes?}
    F -->|Yes| A
    F -->|No| G[Create Relationships]
    G --> H[Map Relationship Properties]
    H --> I{More Relationships?}
    I -->|Yes| G
    I -->|No| J[Add Constraints & Indexes]
    J --> K[Run Import]
```

Let's walk through each step:

## Step 1: Upload CSV Files

Click **Add Data Source** or drag-and-drop CSV files.

```mermaid
flowchart LR
    A[CSV File] -->|Drag & Drop| B[Data Importer]
    C[CSV File] -->|Browse & Upload| B
```

The tool will:
* Parse the CSV
* Show column headers
* Display sample data
* Infer data types

## Step 2: Create Nodes

Add nodes to the canvas for each entity type:

```mermaid
graph LR
    A[Add Node Button] --> B[Node Appears on Canvas]
    B --> C[Give it a Label]
```

For Northwind, you'll create:
* Customer node
* Order node
* Product node
* Category node
* Supplier node
* Employee node

## Step 3: Map Properties

Select a node and map CSV columns to properties:

```mermaid
flowchart TD
    A[Select Node] --> B[Choose CSV File]
    B --> C[Map Columns to Properties]
    
    C --> D["customerId -> customerId"]
    C --> E["companyName -> companyName"]
    C --> F["city -> city"]
```

You can:
* Select which columns to import
* Rename properties
* Set data types
* Mark required fields

## Step 4: Set ID Property

Every node needs a unique identifier:

```mermaid
graph LR
    A[Node] -->|Must Have| B[ID Property]
    B -->|Used For| C[Uniqueness Constraint]
    B -->|Used For| D[Relationship Matching]
```

For Northwind:
* Customer → `customerId`
* Order → `orderId`
* Product → `productId`
* Category → `categoryId`
* Supplier → `supplierId`
* Employee → `employeeId`

## Step 5: Create Relationships

Draw relationships between nodes:

```mermaid
graph LR
    A[Click Node Edge] -->|Drag| B[Target Node]
    C[Relationship Created] --> D[Name the Type]
    D --> E[Map Properties]
```

For each relationship:
* Set the type (PLACED, ORDERS, etc.)
* Choose source CSV file
* Map ID columns for matching
* Map relationship properties if any

## Step 6: Add Constraints and Indexes

Before importing, set up:

**Constraints** - Ensure data integrity
```mermaid
graph LR
    A[Constraint] --> B[Unique IDs]
    A --> C[Required Properties]
```

**Indexes** - Improve query performance
```mermaid
graph LR
    D[Index] --> E[Fast Lookups]
    D --> F[Efficient Queries]
```

## Step 7: Run Import

Click **Run Import** to:

```mermaid
flowchart TD
    A[Run Import] --> B[Connect to Database]
    B --> C[Generate Cypher]
    C --> D[Execute Import]
    D --> E[Show Results]
```

1. Connect to your database
2. Generate Cypher statements
3. Execute the import
4. Display import summary

The tool shows:
* Nodes created
* Relationships created
* Time taken
* Any errors

## Import Best Practices

```mermaid
graph TB
    A[Best Practices] --> B[Start with Nodes]
    A --> C[Set IDs First]
    A --> D[Test with Small Files]
    A --> E[Add Constraints Early]
    A --> F[Verify Results]
```

* **Import nodes before relationships** - Relationships need nodes to exist
* **Set ID properties correctly** - These are crucial for matching
* **Test with subset of data first** - Debug issues with small files
* **Add constraints before importing** - Prevents duplicate data
* **Verify after each step** - Query database to confirm data loaded

## Saving Your Model

You can save the model definition as a JSON file:

```mermaid
flowchart LR
    A[Design Model] --> B[Click Save]
    B --> C[Download JSON]
    C --> D[Reuse Later]
```

This is useful for:
* Documenting your model
* Sharing with team members
* Reusing for similar imports
* Version control

## Summary

In this lesson, you learned:

* What Data Importer is and how to access it
* The interface layout (files, canvas, details, actions)
* The typical import workflow (upload, map, create relationships, import)
* How to map CSV columns to properties
* The importance of ID properties
* How to create relationships between nodes
* Best practices for importing data

In the next lesson, you will start importing the Northwind nodes.
