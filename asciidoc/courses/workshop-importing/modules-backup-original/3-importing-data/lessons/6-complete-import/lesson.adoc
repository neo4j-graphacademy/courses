= Running the Import
:type: lesson
:order: 6

[.slide.discrete]
== Introduction

You learned about constraints and indexes in the Data Importer and completed the data model configuration.

In this lesson, you will run the import to load the Northwind dataset into your Neo4j Aura instance.

[.slide]
== Review the data model

Your data model should include:


*Nodes (6):*

* Customer
* Order
* Product
* Category
* Supplier
* Employee


*Relationships (6):*

* Customer PLACED Order
* Order ORDERS Product
* Product PART_OF Category
* Product SUPPLIED_BY Supplier
* Employee SOLD Order
* Employee REPORTS_TO Employee

[.slide]
== Save your model

Before importing, save your model:


1. Click *Save* or *Export*
2. Name it "Northwind Model"
3. Download the JSON file


This saves your work and allows you to reuse the model later.

[.slide]
== Run the import

1. Click *Run Import* button
2. Enter your database connection details:
   * *URI*: `neo4j+s://xxxxx.databases.neo4j.io`
   * *Username*: `neo4j`
   * *Password*: Your saved password
3. Click *Connect and Import*


[NOTE]
.Resetting your password
====
If you do not have your password, you can reset it from the Aura console (Instance → Actions → Reset Password).
====

[.slide]
== Monitor the import progress

The Data Importer will:


1. *Generate Cypher* - Convert visual model to Cypher code
2. *Create constraints* - Set up uniqueness constraints
3. *Import nodes* - Create all Customer, Product, Order, etc. nodes
4. *Import relationships* - Create PLACED, ORDERS, etc. relationships
5. *Build indexes* - Index ID properties
6. *Show results* - Display import summary


The import typically takes 30-60 seconds for Northwind.

[.slide]
== Review the import summary

When complete, you will see a summary.


*Expected numbers (approximate):*


*Nodes:*

* *Customers*: 91 nodes
* *Orders*: 830 nodes
* *Products*: 77 nodes
* *Categories*: 8 nodes
* *Suppliers*: 29 nodes
* *Employees*: 9 nodes
* *Total nodes*: ~1,044


*Relationships:*

* *PLACED*: 830 relationships
* *ORDERS*: 2,155 relationships
* *PART_OF*: 77 relationships
* *SUPPLIED_BY*: 77 relationships
* *SOLD*: 830 relationships
* *REPORTS_TO*: 8 relationships
* *Total relationships*: ~3,977

[.slide]
== Verify the import

After import, verify the data loaded correctly by running these Cypher queries in the Query tool.


[.slide.discrete]
=== Count all nodes

[source,cypher]
----
// Count nodes by label
MATCH (n)
RETURN labels(n) AS label, count(n) AS count
ORDER BY count DESC;
----


Expected output:

[source]
----
label          count
["Order"]      830
["Product"]    77
["Customer"]   91
["Supplier"]   29
["Employee"]   9
["Category"]   8
----


[.slide.discrete]
=== Count all relationships

[source,cypher]
----
// Count relationships by type
MATCH ()-[r]->()
RETURN type(r) AS relationshipType, count(r) AS count
ORDER BY count DESC;
----


Expected output:

[source]
----
relationshipType   count
"ORDERS"           2155
"PLACED"           830
"SOLD"             830
"PART_OF"          77
"SUPPLIED_BY"      77
"REPORTS_TO"       8
----


[.slide.discrete]
=== Verify sample data

[source,cypher]
----
// View a sample customer with orders
MATCH (c:Customer {customerId: 'ALFKI'})-[:PLACED]->(o:Order)
RETURN c.companyName, count(o) AS orderCount;
----


Should return:

[source]
----
companyName          orderCount
"Alfreds Futterkiste"  6
----


[.slide.discrete]
=== Visualize sample graph

[source,cypher]
----
// Visualize a small portion of the graph
MATCH path = (c:Customer {customerId: 'ALFKI'})-[:PLACED]->(:Order)-[:ORDERS]->(p:Product)
RETURN path
LIMIT 25;
----


This should display a graph visualization of customer ALFKI's orders and products.

[.slide]
== Troubleshoot import issues

If the import fails or produces unexpected results, review the following common issues.


*Common issues:*


1. *Wrong node counts*
   * Check all CSV files uploaded correctly
   * Verify no data corruption in files
2. *Missing relationships*
   * Verify ID mappings match between files
   * Check source/target nodes exist
3. *Duplicate nodes*
   * Ensure ID properties marked correctly
   * Check uniqueness constraints created
4. *Error messages*
   * Read error carefully
   * Check CSV format (quotes, delimiters)
   * Verify data types match


*To fix issues:*

1. Clear the database (delete all data)
2. Fix the issue in Data Importer
3. Re-run the import

[.slide]
== Clear the database (if needed)

To start over, run:


[source,cypher]
----
// WARNING: This deletes all data!
MATCH (n) DETACH DELETE n;
----


Then return to Data Importer and import again.

[.slide]
== Verify success

If your counts match the expected numbers and sample queries return data, you have successfully imported the entire Northwind dataset into Neo4j.


The graph database now contains:


* 91 Customers
* 830 Orders
* 77 Products
* 8 Categories
* 29 Suppliers
* 9 Employees
* ~4,000 Relationships

[.summary]
== Summary

In this lesson, you ran the import process to load the Northwind dataset into Neo4j:


* Saved your data model for reuse
* Ran the import from Data Importer
* Connected to your Aura database
* Imported approximately 1,044 nodes and 3,977 relationships
* Verified the data loaded correctly with Cypher queries
* Learned troubleshooting techniques for import issues


In the next module, you will learn how to query the Northwind graph using Cypher to answer business questions.

read::Mark as completed[]
