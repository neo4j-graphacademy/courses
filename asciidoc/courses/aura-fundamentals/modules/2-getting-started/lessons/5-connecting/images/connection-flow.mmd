%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#014063', 'primaryTextColor': '#fff', 'primaryBorderColor': '#014063', 'lineColor': '#485662', 'secondaryColor': '#006E58', 'tertiaryColor': '#F5F7FA'}}}%%
sequenceDiagram
    participant App as Your Application
    participant Driver as Neo4j Driver
    participant LB as Load Balancer
    participant Auth as Authentication
    participant DB as Neo4j Instance
    
    App->>Driver: Initialize with URI, credentials
    Driver->>LB: Connect (neo4j+s://)
    LB->>Auth: Verify credentials
    
    alt Authentication Success
        Auth-->>LB: Token issued
        LB-->>Driver: Connection established
        Driver-->>App: Ready
        
        App->>Driver: Execute query
        Driver->>LB: Cypher over Bolt
        LB->>DB: Route to instance
        DB-->>LB: Results
        LB-->>Driver: Response
        Driver-->>App: Data
    else Authentication Failed
        Auth-->>LB: Rejected
        LB-->>Driver: Error
        Driver-->>App: AuthenticationError
    end
    
    Note over App,DB: All traffic encrypted with TLS

