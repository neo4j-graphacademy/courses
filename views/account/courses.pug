extends ./_layout
//- include ../course/card


block major
  .account-header
    h1 My Courses

  .tabs.account-tabs
    for link in links
      a.tab-element(href=link.link class=link.current ? 'tab--selected' : '') !{link.title}



  .account-section
    if courses.length
      .account-courses
        for course in courses
          .account-course
            .course-image
              if course.illustration
                a.card-illustration(href=course.link)
                  | !{course.illustration}
              else if course.badge
                a.card-badge(href=course.link)
                  | !{course.badge}

            .course-details
              a(href=course.link) !{course.title}
              .course-caption !{course.caption}

            if course.enrolled
              .course-progress
                .progress-container(class=course.completed ? 'progress-container--completed' : 'progress-container')
                  .progress-bar
                    .progress-bar-container
                      span(style=`width: ${course.completed ? 100 : course.completedPercentage}%`) #{course.completed ? 100 : course.completedPercentage}%

                  .progress-percentage #{course.completed ? 100 : course.completedPercentage}%

            .course-actions
              if course.completed
                a.btn.btn--small(href=`/c/${course.certificateId}/`) View Certificate
              else if course.enrolled
                a.btn.btn--small(href=`${course.link}continue/`) Continue Course
              else
                a.btn.btn--small(href=course.link) View Course

              .context-menu-container
                .context-menu-icon
                  | !{svg.iconHorizontalDots}
                .context-menu
                  if course.completed && course.summary
                    a.context-menu-item(href=`${course.link}summary/`) View course summary
                  if course.enrolled
                    a.context-menu-item.context-menu-item--danger(href=`${course.link}delete/`) Delete enrollment
                  if status == 'favorited'
                    a.context-menu-item.context-menu-item--danger(href=`${course.link}bookmark/remove/?returnTo=${path}`) Remove from favorites



    else
      img(src=cdn('img/static/start.svg') alt='A playful image showing a start button')
      h2 No !{status.substr(0, 1).toUpperCase() + status.substr(1)} Courses
      p Get started on your Neo4j journey and check out our course selection.
      p
        a.btn.btn--primary(href='/categories/') View All Courses