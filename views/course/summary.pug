extends ../layouts/classroom

mixin recommendation(course, recommendation)
  if recommendation
    div.recommendation
      div.recommendation-course
        a.recommendation-title.card-title(href=recommendation.link + '?ref=recommendation') !{recommendation.title}
        p.recommendation-caption !{recommendation.caption}
        if recommendation.count
          p.recommendation-count !{recommendation.count}+ learners who completed
            strong !{' ' + course.title + ' '}
            | have also completed
            strong !{' '+ recommendation.title}
            |  .
        p
          a.card-action(href=recommendation.link + '?ref=recommendation') View Course &rarr;

      div.recommendation-badge
        img(src=`${recommendation.link}illustration/`)

block main

  .module
    h1.module-title !{title}

    div.admonition
      //- p.admonition-title !{translate('congratulations', 'Congratulations!')}
      p.congratulations
        img.congratulations-image(src=`${course.link}illustration/`)
        | Congratulations on completing
        |
        strong !{course.title}!
        |
        p We hope that you have found the course useful and are now feeling more confident using Neo4j.
        |
        |
        | If you enjoyed the course, why not
        |
        |
        a(href=`${course.link}share/linkedin` target="_blank") share your certificate
        |
        |
        | with your friends and colleagues?


        |
        | Let's recap what you've learned and highlight some key takeaways.

      div.admonition-buttons
        a.btn.btn--primary.confetti-trigger(href=course.certificateUrl target="_blank") View Certificate
        a.btn.btn--secondary(href=`${course.link}share/linkedin` target="_blank") Add to LinkedIn

    if slides
      div.summary-slides
        h2 Course Slides
        p We have prepared a set of slides that you can download and use to review the course content at your own pace.
        iframe(src=`${course.link}slides.pdf`, width='100%', height='500px', frameborder='0', allowfullscreen='true')
        p
          a.btn(href='../slides.pdf') Download Slides

    article.module-content.doc !{doc}

    if course.progressTo && course.progressTo.length
      h2 !{translate('next-steps', 'Next Steps')}
      if course.progressTo.length == 1
        p !{translate('next-steps-single', 'Once you have completed this course, we recommend you take the following course:')}
      else
        p !{translate('next-steps-multiple', 'Once you have completed this course, we recommend you take the following courses:')}

    for next in course.progressTo
      +recommendation(course, next)

    if recommendations.length > 0
      p !{'&nbsp;'}
      p !{translate('next-steps-recommendations', 'Or why not try one of these recommendations based on your enrollment history?')}

      +recommendation(course, recommendations[0])

      if recommendations.length > 2
        for next in recommendations.slice(1, 2)
          +recommendation(course, next)

      if recommendations.length > 3
        p !{translate('next-steps-something-different', 'You could also try something completely different.')}

        +recommendation(recommendations[ recommendations.length - 1 ])
